# ğŸŒŸ Welcome to **Ghatak Sports Academy Indiaâ„¢ (GSAI)** ğŸŒŸ

<div align="center">

## ğŸ“Š Project Status & Hosting

[![Netlify Status](https://api.netlify.com/api/v1/badges/0fded24e-0eac-4352-bfbe-e89fe368499f/deploy-status)](https://app.netlify.com/projects/ghatakgsai/deploys)
[![GitHub Repo](https://img.shields.io/badge/Source-GitHub-blue?logo=github)](https://github.com/EllowDigital/gsai-curd)
[![Live Website](https://img.shields.io/website?label=Visit%20Site&url=https%3A%2F%2Fghatakgsai.netlify.app)](https://ghatakgsai.netlify.app)

---

## ğŸ“¦ Repository Insights

| **Metric**        | **Status**                                                                                                                                                            |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ğŸ•’ Last Commit    | [![GitHub last commit](https://img.shields.io/github/last-commit/EllowDigital/gsai-curd?logo=github)](https://github.com/EllowDigital/gsai-curd/commits/main)        |
| ğŸ› Open Issues    | [![GitHub issues](https://img.shields.io/github/issues/EllowDigital/gsai-curd?logo=github)](https://github.com/EllowDigital/gsai-curd/issues)                        |
| ğŸ”„ Pull Requests  | [![GitHub pull requests](https://img.shields.io/github/issues-pr/EllowDigital/gsai-curd?logo=github)](https://github.com/EllowDigital/gsai-curd/pulls)               |
| ğŸ´ Forks          | [![GitHub forks](https://img.shields.io/github/forks/EllowDigital/gsai-curd?style=social&logo=github)](https://github.com/EllowDigital/gsai-curd/network/members)    |
| â­ Stars          | [![GitHub stars](https://img.shields.io/github/stars/EllowDigital/gsai-curd?style=social&logo=github)](https://github.com/EllowDigital/gsai-curd/stargazers)         |

</div>

---

## ğŸ¥‹ About Us

**Ghatak Sports Academy Indiaâ„¢ (GSAI)** is a **Government-recognized and ISO 9001:2015 certified institution** committed to empowering individuals through martial arts and self-defense. ğŸ’ªâœ¨  
We blend **traditional martial arts** with **modern fitness techniques**, helping students unlock their **strength, discipline, and confidence**.  
From kids to professionals, we guide everyone on a journey of **self-mastery and personal growth**.

---

## ğŸ‘¤ Founderâ€™s Message

### **Mr. Nitesh Yadav**  
**Founder & Director** ğŸ¥‡ *Black Belt 1st Dan* | International/National Gold Medalist | Self-Defense Instructor

> â€œWith decades of experience, I remain dedicated to mentoring the champions of tomorrow.â€  
> â€” **Mr. Nitesh Yadav**

---

## ğŸ¥Š Programs Offered

- ğŸ¥‹ Karate  
- ğŸ¦µ Taekwondo  
- ğŸ¥Š Boxing  
- ğŸ¥‹ Kickboxing  
- ğŸ¤¼ Grappling  
- ğŸ¥‹ MMA  
- ğŸ•‰ï¸ Kalaripayattu  
- ğŸ›¡ï¸ Self-Defense  
- ğŸ‹ï¸ Fat Loss Programs  
- ğŸ Cricket & Kabaddi

---

## â“ Frequently Asked Questions

**ğŸ’¡ Fees**: Contact us for program-wise fees  
**ğŸ•’ Schedule**: Morning & evening batches  
**ğŸ¯ Trial Classes**: Available for all  
**ğŸ‘¶ Age Groups**: Kids to adults  
**ğŸ  Hostel**: Available  
**ğŸ“ Registration**: Online or in-person  
**ğŸ’¸ Discounts**: Yes â€” seasonal & promotional  
**ğŸ¤ Personal Coaching**: Available  
**ğŸ” Refund Policy**: Varies by program

---

## ğŸ“ Contact Us

ğŸ“§ Email: [ghatakgsai@gmail.com](mailto:ghatakgsai@gmail.com)  
ğŸ“ Phone: +91 63941 35988 | +91 83550 62424

ğŸ¢ Main Campus:  
Naubasta Pulia, Takrohi Road, Amrai Gaon, Indira Nagar, Lucknow, U.P. â€“ 226028

ğŸ¢ Branch:  
**Fitness & Fun Arena (TCC)**, Hardasi Kheda, Deva Road, near Baba Hospital Road, Matiyari, Lucknow, U.P.

---

## ğŸ† Recognitions & Affiliations

- ğŸ‡®ğŸ‡³ Government of India  
- ğŸ… Ministry of Youth Affairs & Sports  
- ğŸ’ª Fit India Movement  
- ğŸƒ Khelo India  
- ğŸ¢ MSME Certified  
- âœ… ISO 9001:2015 Certified  
- ğŸ« School Games Federation of India  
- ğŸ‹ï¸ Uttar Pradesh Olympic Association  
- ğŸ•‰ï¸ UP Kalaripayattu Association  
- ğŸ¥‹ Taekwondo Federation  

---

## ğŸ§ª Test Coverage & CI/CD

We maintain code quality through continuous integration pipelines and testing tools.

- âœ… **CI/CD** via [Netlify Deploys](https://app.netlify.com/projects/ghatakgsai)
- ğŸ§ª **Planned Test Coverage** (unit + integration) using:
  - `Vitest` or `Jest`
  - `React Testing Library`
  - `Cypress` for E2E (coming soon)
- ğŸ›  **Linting & Formatting**:
  - ESLint
  - Prettier
- ğŸ”„ GitHub Actions (CI/CD pipeline under development)

---

## ğŸ› ï¸ Local Development & QA

| Command | Description |
| --- | --- |
| `npm run dev` | Start the Vite dev server (defaults to port 8080) |
| `npm run lint` | ESLint over `.ts/.tsx/.js/.jsx` |
| `npm run test` | Headless Vitest run (jsdom, globals, coverage) |
| `npm run test:watch` | Interactive Vitest watcher |
| `npm run build` | Production Vite build plus sitemap generation |
| `npm run preview` | Serve the built app locally via Vite preview |
| `npm run generate:sitemap` | Run the Supabase-powered sitemap generator |

> Tip: copy `.env` to `.env.local` and adjust the Supabase values before running `npm run dev`.

There are no Git hooks included; feel free to wire up Husky/lefthook if you need automated checks before commits.

---

## ğŸš€ Deployment Profiles

### Netlify (production + previews)

- `netlify.toml` pins the build command (`npm run build`), publish directory (`dist`), and Node 20 runtime so installs stay deterministic.
- Required environment variables (set in Netlify UI or CLI):
  - `VITE_SUPABASE_URL`
  - `VITE_SUPABASE_PUBLISHABLE_KEY`
  - `VITE_SUPABASE_PROJECT_ID`
  - `SUPABASE_URL` and `SUPABASE_ANON_KEY` (for `generate-sitemap.js`) â€” can reuse the same values as the Vite vars.
- Optional: override `SITE_URL` if you use a custom domain; otherwise Netlify injects `URL`/`DEPLOY_PRIME_URL` automatically and the sitemap falls back to those.

### Lovable.dev sandbox

- The `lovable-tagger` plugin now loads **only** when `LOVABLE_DEV_SERVER=true` and `npm run dev` runs in development mode.
- Set `LOVABLE_DEV_SERVER=true` in the Lovable environment (already provided via `netlify.toml` template env). Local devs outside Lovable do not need the plugin.
- Keep `lovable-tagger` installed (devDependency) so component tagging works when you open the repo inside Lovable.

### Manual static hosting

- Run `npm run build` and deploy the `dist/` folder.
- Ensure the same Supabase environment variables are available when running `npm run generate:sitemap`; otherwise only static marketing routes are emitted.

---

## ğŸ“± PWA Install & Deferred Prompt Flow

- The browserâ€™s `beforeinstallprompt` event is intercepted in `src/App.tsx` so we can show a custom CTA (`PWAInstallToast`).
- The toast appears only on admin routes, when the app isnâ€™t already installed, and after the event fires. Dismissing or successfully installing clears the saved prompt.
- To customize the copy or placement, edit `src/components/PWAInstallToast.tsx`. If you prefer the default browser banner, remove the `event.preventDefault()` call in `App.tsx`.

---

## ğŸ¥‹ Belt Progression Workflow

- **Database schema**: `supabase/migrations/20251117120000_add_belt_progression.sql` creates `belt_levels` (ranked colors + requirements) and `student_progress` (status per student/belt). `20251117153000_backfill_belt_links.sql` links each belt to its successor via `next_level_id` so promotions know the next color.
- **Backend access control**: RLS policies in `supabase/migrations/20251117143000_update_progression_policies.sql` allow admins/instructors to read and update belts, statuses, and evidence with optimistic locking via `is_progress_status_unchanged()`.
- **Frontend hooks**: `src/hooks/useBeltLevels.ts` fetches belt metadata (id, color, rank). `src/hooks/useProgressionQuery.ts` handles listing, filtering, drag/drop status changes, uploading evidence, *assigning* students to belts, and *promoting* them to the next level.
- **UI flow**: Open **Admin â†’ Students â†’ Progression**. Use the new â€œAssign studentâ€ button to pick any roster student + belt + starting status. Each card shows the current belt, evidence, and status chips. When a card is in **Passed**, click â€œPromote to â€¦â€ to move the student to the next colorâ€”this resets the status to â€œNeeds workâ€ and keeps the history in Supabase.
- **Filters**: Search by name/program/notes, slice by program, belt, or coach, and reset quickly via the header button. Columns map to the four statuses (`needs_work`, `ready`, `passed`, `deferred`).

---

## ğŸ” Supabase Environment Variables

Create an `.env` (or `.env.local`) with the following client-safe values before running the app locally or deploying:

```
VITE_SUPABASE_URL=your-project-url
VITE_SUPABASE_PUBLISHABLE_KEY=your-anon-key
VITE_SUPABASE_PROJECT_ID=project-id-or-reference
```

These map to `src/integrations/supabase` helpers and the admin data hooks (`useRealtime`, `useEventsQuery`, etc.). Never commit service-role keysâ€”only the anon/publishable key belongs here.

---

## ğŸŒ Internationalization

We aim to serve a global audience with support for multiple languages (in development):

- ğŸŒ Default: English (ğŸ‡ºğŸ‡¸)
- ğŸŒ Planned: Hindi (ğŸ‡®ğŸ‡³), Urdu (ğŸ‡µğŸ‡°), Arabic (ğŸ‡¸ğŸ‡¦)
- ğŸ“¦ Tools:
  - `i18next`
  - `react-i18next`
  - Locale-based route detection & fallback

---

## ğŸ“„ License

This project is licensed under the **MIT License**.

```text
MIT License

Copyright (c) 2025 EllowDigitals

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...

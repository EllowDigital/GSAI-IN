[build]
command = "npm run build"
publish = "dist"
# Netlify automatically caches node_modules when the Node version is pinned.
environment = { NODE_VERSION = "20.17.0" }

[dev]
command = "npm run dev"
port = 8888
targetPort = 5173
framework = "vite"

# Allow sitemap + clients to know the canonical URL during production builds.
[context.production.environment]
SITE_URL = "https://ghataksportsacademy.com"
# Note: VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY, and VITE_SUPABASE_PROJECT_ID
# should be set in Netlify Dashboard > Site settings > Environment variables
# These are NOT defined here for security reasons

# Preview deploys get their own unique URL, so fall back to DEPLOY_PRIME_URL.
[context.deploy-preview.environment]
SITE_URL = "${DEPLOY_PRIME_URL}"

# Lovable.dev uses its own dev server flag so we can enable the tagging plugin.
[template.environment]
LOVABLE_DEV_SERVER = "true"
